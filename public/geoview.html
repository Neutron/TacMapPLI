
<!DOCTYPE html>
<!--
/** 
 * Copyright (C) 2015 JD NEUSHUL
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 **/
-->
<html lang="en">
    <head>
        <title>TACMAP</title>
        <link rel="stylesheet" href="js/lib/Cesium/Widgets/widgets.css" />
        <link rel="stylesheet" href="css/plimap.css" />
        <!--        <link href="node_modules/ng-dialog/css/ngDialog-theme-default.min.css" rel="stylesheet" type="text/css"/>
                <link href="node_modules/ng-dialog/css/ngDialog.min.css" rel="stylesheet" type="text/css"/>-->
    </head>
    <body>
        <div id="infoCol" class="noselect" data-ng-app="TacMap">
            <div data-ng-controller="userCtl as usrctl">
                <div data-ng-controller="mapCtl as mapctl">
                    <div class="maptitle">{{usrctl.map}}</div>
                    <div class="accordion__container outline" data-ng-controller="menuCtrl as menuctl">
                        <div class="accordion__tab">
                            <div class="accordion__tab-title" data-ng-click="menuctl.openTab('user')">USER PROFILE</div>
                            <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab('user')">
                                <div data-ng-include="usrctl.userProfile"></div>
                            </div>
                        </div>
                        <div class="accordion__tab">
                            <div class="accordion__tab-title" data-ng-click="menuctl.openTab('views')">MAP VIEWS</div>
                            <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab('views')">
                                <div data-ng-repeat="(k,m) in stctl.mapviews">
                                    <div class="accordion__subtab outline">
                                        <div class="accordion__tab-subtitle" data-ng-click="stctl.selMapVw(k, mctl)" data-ng-model="stctl.mselected" data-ng-class="{selected : stctl.mapSelected(k)}">{{k}}</div>
                                        <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab(k)">
                                            <div data-ng-include="usrctl.mapEntities" data-ng-show="stctl.mapSelected(k)"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="netlist">
                                    <button class="smbtn" data-ng-hide="stctl.addmap" data-ng-click="stctl.addmap = true">Add</button>
                                    <div data-ng-show="stctl.addmap">
                                        <input class="newmap" data-ng-model="stctl.maptxt" type="text"/>
                                        <button class="smbtn" data-ng-click="stctl.addmap = false; stctl.maptxt = '';">Cancel</button>
                                        <button class="smbtn" data-ng-click="stctl.addMap(stctl.mapviews, stctl.maptxt)">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion__tab" data-ng-controller="messageCtl as msgctl">
                            <div class="accordion__tab-title" data-ng-click="menuctl.openTab('nets')">NETWORKS</div>
                            <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab('nets')">
                                <div ng-repeat="(ky,n) in msgctl.networks[msgctl.mselected]">
                                    <input type="checkbox" data-ng-model="msgctl.netsel[ky]" data-ng-change="msgctl.joinNet(n)">{{ky}}
                                </div>
                                <div class="netlist">
                                    <button class="smbtn" data-ng-hide="msgctl.netadd" data-ng-click="msgctl.netadd = true">Add</button>
                                    <div data-ng-show="msgctl.netadd">
                                        <input class="newnet" data-ng-model="msgctl.nettxt" type="text"/>
                                        <button class="smbtn" data-ng-click="msgctl.netadd = false; msgctl.nettxt = '';">Cancel</button>
                                        <button class="smbtn" data-ng-click="msgctl.addNet(msgctl.mselected)">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion__tab">
                            <div class="accordion__tab-title" data-ng-click="menuctl.openTab('maps')">SAVE / LOAD</div>
                            <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab('maps')">
                                <div data-ng-include="usrctl.mapStore"></div>
                            </div>
                        </div>
                        <div class="accordion__tab">
                            <div class="accordion__tab-title" data-ng-click="menuctl.openTab('msgs')">MESSAGE LOG</div>
                            <div class="accordion__tab-content" data-ng-show="menuctl.isOpenTab('msgs')">
                                <div data-ng-include="usrctl.msgLog"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="cesiumContainer"></div>
        <!--    <div id="alert"></div>
                <div id="prompt"></div>
                <div id="confirm"></div>-->
        <script src='/socket.io/socket.io.js'></script>
        <script src="js/lib/Cesium/Cesium.js"></script>
        <script src="js/lib/xml2json.min.js"></script>
        <script src="js/lib/angular/angular.min.js"></script>
        <script src="js/lib/compression/lz-string-1.3.3-min.js"></script>
        <script src="js/lib/compression/base64-string-v1.1.0.js"></script>
        <script src="js/lib/indexdb/angular-indexed-db.min.js"></script>
        <!--        <script src="node_modules/ng-dialog/js/ngDialog.min.js"></script>-->
        <script src="js/tacmap.js"></script>
        <script src="js/tmServices.js"></script>
        <script src="js/tmControllers.js"></script>
    </body>
</html>
