<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<div class="units">
    <div data-ng-controller="storeCtl as stctl">
        <div class="bsect">
            <div class="label">Maps</div>
            <button class="smbtn" data-ng-click="stctl.deleteMap(selmap)">Delete</button>
            <button class="smbtn" data-ng-click="stctl.saveMap(selmap)">Save</button>
            <button class="smbtn" data-ng-click="stctl.importMap()">Import</button>
            <button class="smbtn" data-ng-click="stctl.exportMap()">Export</button>
        </div>
        <div class="msect"><span class="txtbtn" data-ng-click="stctl.clearDb()">Reset Local Cache Database</span></div>
        <div class="filelist" data-ng-show="stctl.import" data-ng-click="stctl.import = false">
            <div data-ng-repeat="f in stctl.maplist">
                <div class="filelisting">
                    <span data-ng-click="stctl.getFile(f)">{{f.name}}</span>
                </div>
            </div>
        </div>
    </div>
    <div data-ng-controller="mapCtl as mapctl">
        <div class="sect">
            <input data-ng-model="mapctl.editlocchecked" data-ng-false-value="0" type="checkbox" data-ng-change="mapctl.editgeofencechecked = 0"/>
            <span>Set Locations</span>
        </div>
        <div class="msect" data-ng-show="mapctl.editlocchecked">Right Click to Set Location</div>
        <div class="sect">
            <input data-ng-model="mapctl.editgeofencechecked" data-ng-false-value="0" type="checkbox" data-ng-change="mapctl.editlocchecked = 0"/>
            <span>Edit GeoFence</span>
            <span class="smbtngrp" data-ng-show="mapctl.editgeofencechecked">
                <button class="smbtn" data-ng-click="mapctl.removeLastPp()">del pt</button>
                <button class="smbtn" data-ng-click="mapctl.removeAllPp()">del all</button>
            </span>
            <div class="msect" data-ng-show="mapctl.editgeofencechecked">Right Click to Set Points</div>
        </div>
        <div class="sect">
            <div class="rptsel">TRACKS</div>
            <div data-ng-repeat="t in mctl.tracks">
                <div class="unitlisting" data-ng-model="mctl.trackselected"
                     data-ng-show="mctl.showTrack(t)"
                     data-ng-click="mctl.selectTrack(t, true)"
                     data-ng-class="{selected : mctl.trackselected._id === t._id}">
                    <img src="" data-ng-src="img/bluedot.png" />
                    <div class="unitlabel">{{t._name}}</div> 
                </div>
            </div>
        </div>
        <div class="sect">
            <div class="rptsel">GEO FENCES</div>
            <div data-ng-repeat="f in mctl.geofences">
                <div class="unitlisting" data-ng-model="mctl.geofenceselected"
                     data-ng-show="mctl.showGeoFence(f)"
                     data-ng-click="mctl.selectGeoFence(f, true)"
                     data-ng-class="{selected : mctl.geofenceselected._id === f._id}">
                    <img src="" data-ng-src="img/bluedot.png" />
                    <div class="unitlabel">{{f._name}}</div> 
                </div>
            </div>
        </div>
    </div>
</div>
